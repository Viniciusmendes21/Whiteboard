{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/tool.service\";\nimport * as i2 from \"../../services/canvas.service\";\nimport * as i3 from \"../../services/history.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ToolbarComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ToolbarComponent_button_5_Template_button_click_0_listener() {\n      const tool_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectTool(tool_r2.type));\n    });\n    i0.ɵɵelementStart(1, \"span\", 60);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tool_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.currentTool === tool_r2.type);\n    i0.ɵɵproperty(\"title\", tool_r2.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tool_r2.icon);\n  }\n}\nexport let ToolbarComponent = /*#__PURE__*/(() => {\n  class ToolbarComponent {\n    constructor(toolService, canvasService, historyService) {\n      this.toolService = toolService;\n      this.canvasService = canvasService;\n      this.historyService = historyService;\n      this.currentTool = 'select';\n      this.strokeColor = '#000000';\n      this.fillColor = '#ffffff';\n      this.strokeWidth = 2;\n      this.canUndo = false;\n      this.canRedo = false;\n      this.snapToGrid = false;\n      this.gridSize = 20;\n      this.theme = 'light';\n      this.fontSize = 16;\n      this.fontFamily = 'Arial';\n      this.fontWeight = 'normal';\n      this.fontStyle = 'normal';\n      this.hasTextSelection = false;\n      this.textColor = '#000000';\n      this.selectedWidth = 120;\n      this.selectedHeight = 80;\n      this.tools = [{\n        type: 'select',\n        icon: '↖',\n        label: 'Selecionar'\n      }, {\n        type: 'pan',\n        icon: '✋',\n        label: 'Mover Canvas'\n      }, {\n        type: 'rectangle',\n        icon: '⬜',\n        label: 'Retângulo'\n      }, {\n        type: 'circle',\n        icon: '⭕',\n        label: 'Círculo'\n      }, {\n        type: 'ellipse',\n        icon: '⬭',\n        label: 'Elipse'\n      }, {\n        type: 'arrow',\n        icon: '→',\n        label: 'Seta'\n      }, {\n        type: 'line',\n        icon: '─',\n        label: 'Linha'\n      }, {\n        type: 'triangle',\n        icon: '▲',\n        label: 'Triângulo'\n      }, {\n        type: 'star',\n        icon: '★',\n        label: 'Estrela'\n      }, {\n        type: 'polygon',\n        icon: '⬣',\n        label: 'Polígono'\n      }, {\n        type: 'freedraw',\n        icon: '✏',\n        label: 'Desenho Livre'\n      }, {\n        type: 'text',\n        icon: 'T',\n        label: 'Texto'\n      }];\n    }\n    ngOnInit() {\n      this.toolService.currentTool$.subscribe(tool => {\n        this.currentTool = tool;\n      });\n      this.toolService.strokeColor$.subscribe(color => {\n        this.strokeColor = color;\n        this.textColor = color;\n      });\n      this.toolService.fillColor$.subscribe(color => {\n        this.fillColor = color;\n      });\n      this.toolService.strokeWidth$.subscribe(width => {\n        this.strokeWidth = width;\n      });\n      this.toolService.fontSize$.subscribe(size => {\n        this.fontSize = size;\n      });\n      this.toolService.fontFamily$.subscribe(family => {\n        this.fontFamily = family;\n      });\n      this.toolService.fontWeight$.subscribe(weight => {\n        this.fontWeight = weight;\n      });\n      this.toolService.fontStyle$.subscribe(style => {\n        this.fontStyle = style;\n      });\n      this.historyService.canUndo$.subscribe(canUndo => {\n        this.canUndo = canUndo;\n      });\n      this.historyService.canRedo$.subscribe(canRedo => {\n        this.canRedo = canRedo;\n      });\n      this.canvasService.snapToGrid$.subscribe(enabled => {\n        this.snapToGrid = enabled;\n      });\n      this.canvasService.gridSize$.subscribe(size => {\n        this.gridSize = size;\n      });\n      this.canvasService.theme$.subscribe(theme => {\n        this.theme = theme;\n      });\n      this.canvasService.elements$.subscribe(elements => {\n        const selected = elements.find(el => el.isSelected);\n        const selectedText = elements.find(el => el.isSelected && !!el.text);\n        this.hasTextSelection = !!selectedText;\n        if (selected) {\n          if (selected.width) this.selectedWidth = Math.round(selected.width);\n          if (selected.height) this.selectedHeight = Math.round(selected.height);\n        }\n        if (selectedText) {\n          if (selectedText.fontSize) this.toolService.setFontSize(selectedText.fontSize);\n          if (selectedText.fontFamily) this.toolService.setFontFamily(selectedText.fontFamily);\n          if (selectedText.fontWeight) this.toolService.setFontWeight(selectedText.fontWeight);\n          if (selectedText.fontStyle) this.toolService.setFontStyle(selectedText.fontStyle);\n          if (selectedText.strokeColor) {\n            this.toolService.setStrokeColor(selectedText.strokeColor);\n            this.textColor = selectedText.strokeColor;\n          }\n        }\n      });\n    }\n    selectTool(tool) {\n      this.toolService.setTool(tool);\n    }\n    onStrokeColorChange(color) {\n      this.toolService.setStrokeColor(color);\n      this.applyTextStyleToSelection();\n    }\n    onTextColorChange(color) {\n      this.textColor = color;\n      this.toolService.setStrokeColor(color);\n      this.applyTextStyleToSelection();\n    }\n    onFillColorChange(color) {\n      this.toolService.setFillColor(color);\n    }\n    onStrokeWidthChange(width) {\n      this.toolService.setStrokeWidth(width);\n    }\n    onFontSizeChange(size) {\n      this.toolService.setFontSize(size);\n      this.applyTextStyleToSelection();\n    }\n    onFontFamilyChange(family) {\n      this.toolService.setFontFamily(family);\n      this.applyTextStyleToSelection();\n    }\n    toggleBold() {\n      this.toolService.toggleBold();\n      this.applyTextStyleToSelection();\n    }\n    toggleItalic() {\n      this.toolService.toggleItalic();\n      this.applyTextStyleToSelection();\n    }\n    onWidthChange(width) {\n      if (width <= 0) return;\n      this.selectedWidth = width;\n      this.canvasService.updateSelectedDimensions({\n        width\n      });\n      this.historyService.addState(this.canvasService.getState());\n    }\n    onHeightChange(height) {\n      if (height <= 0) return;\n      this.selectedHeight = height;\n      this.canvasService.updateSelectedDimensions({\n        height\n      });\n      this.historyService.addState(this.canvasService.getState());\n    }\n    applyTextStyleToSelection() {\n      if (!this.hasTextSelection) return;\n      this.canvasService.updateSelectedTextStyle({\n        fontSize: this.fontSize,\n        fontFamily: this.fontFamily,\n        fontWeight: this.fontWeight,\n        fontStyle: this.fontStyle,\n        strokeColor: this.textColor\n      });\n      this.historyService.addState(this.canvasService.getState());\n    }\n    undo() {\n      const state = this.historyService.undo();\n      if (state) {\n        this.canvasService.setState(state);\n      }\n    }\n    redo() {\n      const state = this.historyService.redo();\n      if (state) {\n        this.canvasService.setState(state);\n      }\n    }\n    zoomIn() {\n      this.canvasService.setZoom(this.canvasService.zoom * 1.2);\n    }\n    zoomOut() {\n      this.canvasService.setZoom(this.canvasService.zoom / 1.2);\n    }\n    resetZoom() {\n      this.canvasService.setZoom(1);\n      this.canvasService.setPan({\n        x: 0,\n        y: 0\n      });\n    }\n    toggleSnapToGrid() {\n      this.canvasService.setSnapToGrid(!this.snapToGrid);\n    }\n    onGridSizeChange(size) {\n      this.canvasService.setGridSize(size);\n    }\n    deleteSelected() {\n      this.canvasService.deleteSelectedElements();\n      this.historyService.addState(this.canvasService.getState());\n    }\n    clearCanvas() {\n      if (confirm('Tem certeza que deseja limpar todo o canvas?')) {\n        this.canvasService.clear();\n        this.historyService.clear();\n        this.historyService.addState(this.canvasService.getState());\n      }\n    }\n    rotateLeft() {\n      this.canvasService.rotateSelected(-15);\n      this.historyService.addState(this.canvasService.getState());\n    }\n    rotateRight() {\n      this.canvasService.rotateSelected(15);\n      this.historyService.addState(this.canvasService.getState());\n    }\n    align(direction) {\n      this.canvasService.alignSelected(direction);\n      this.historyService.addState(this.canvasService.getState());\n    }\n    distribute(orientation) {\n      this.canvasService.distributeSelected(orientation);\n      this.historyService.addState(this.canvasService.getState());\n    }\n    group() {\n      this.canvasService.groupSelected();\n      this.historyService.addState(this.canvasService.getState());\n    }\n    ungroup() {\n      this.canvasService.ungroupSelected();\n      this.historyService.addState(this.canvasService.getState());\n    }\n    bringToFront() {\n      this.canvasService.bringToFront();\n      this.historyService.addState(this.canvasService.getState());\n    }\n    sendToBack() {\n      this.canvasService.sendToBack();\n      this.historyService.addState(this.canvasService.getState());\n    }\n    applyTemplate(name) {\n      this.canvasService.insertTemplate(name);\n      this.historyService.addState(this.canvasService.getState());\n    }\n    toggleTheme() {\n      const next = this.theme === 'light' ? 'dark' : 'light';\n      this.canvasService.setTheme(next);\n    }\n    exportToPNG() {\n      const canvas = document.querySelector('canvas');\n      if (canvas) {\n        const link = document.createElement('a');\n        link.download = 'whiteboard.png';\n        link.href = canvas.toDataURL();\n        link.click();\n      }\n    }\n    exportToJSON() {\n      const json = this.canvasService.exportToJSON();\n      const blob = new Blob([json], {\n        type: 'application/json'\n      });\n      const link = document.createElement('a');\n      link.download = 'whiteboard.json';\n      link.href = URL.createObjectURL(blob);\n      link.click();\n    }\n    importFromJSON() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.json';\n      input.onchange = e => {\n        const file = e.target.files[0];\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = event => {\n            const success = this.canvasService.importFromJSON(event.target.result);\n            if (success) {\n              this.historyService.clear();\n              this.historyService.addState(this.canvasService.getState());\n              alert('Importação realizada com sucesso!');\n            } else {\n              alert('Erro ao importar arquivo!');\n            }\n          };\n          reader.readAsText(file);\n        }\n      };\n      input.click();\n    }\n    static {\n      this.ɵfac = function ToolbarComponent_Factory(t) {\n        return new (t || ToolbarComponent)(i0.ɵɵdirectiveInject(i1.ToolService), i0.ɵɵdirectiveInject(i2.CanvasService), i0.ɵɵdirectiveInject(i3.HistoryService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ToolbarComponent,\n        selectors: [[\"app-toolbar\"]],\n        decls: 129,\n        vars: 20,\n        consts: [[1, \"toolbar\"], [1, \"toolbar-section\"], [1, \"toolbar-title\"], [1, \"toolbar-section\", \"tools-section\"], [\"class\", \"tool-button\", 3, \"active\", \"title\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"toolbar-section\", \"colors-section\"], [1, \"color-picker\"], [\"type\", \"color\", 3, \"input\", \"value\"], [1, \"color-picker\", \"text-color-picker\"], [1, \"size-inputs\"], [\"type\", \"number\", \"min\", \"1\", 3, \"input\", \"value\"], [1, \"stroke-width\"], [\"type\", \"range\", \"min\", \"1\", \"max\", \"10\", 3, \"input\", \"value\"], [1, \"font-controls\"], [\"type\", \"number\", \"min\", \"8\", \"max\", \"72\", 3, \"input\", \"value\"], [3, \"change\", \"value\"], [\"title\", \"Negrito\", 1, \"toggle\", 3, \"click\"], [\"title\", \"It\\u00E1lico\", 1, \"toggle\", 3, \"click\"], [1, \"toolbar-section\", \"actions-section\"], [\"title\", \"Desfazer (Ctrl+Z)\", 3, \"click\", \"disabled\"], [\"title\", \"Refazer (Ctrl+Y)\", 3, \"click\", \"disabled\"], [\"title\", \"Aumentar Zoom\", 3, \"click\"], [\"title\", \"Diminuir Zoom\", 3, \"click\"], [\"title\", \"Resetar Zoom\", 3, \"click\"], [\"title\", \"Deletar Selecionados (Delete)\", 3, \"click\"], [\"title\", \"Limpar Canvas\", 3, \"click\"], [1, \"toolbar-section\", \"rotation-section\"], [\"title\", \"Rotacionar -15\\u00B0\", 3, \"click\"], [\"title\", \"Rotacionar +15\\u00B0\", 3, \"click\"], [1, \"toolbar-section\", \"layer-section\"], [\"title\", \"Trazer para frente\", 3, \"click\"], [\"title\", \"Enviar para tr\\u00E1s\", 3, \"click\"], [1, \"toolbar-section\", \"group-section\"], [\"title\", \"Agrupar selecionados\", 3, \"click\"], [\"title\", \"Desagrupar\", 3, \"click\"], [1, \"toolbar-section\", \"align-section\"], [\"title\", \"Alinhar \\u00E0 esquerda\", 3, \"click\"], [\"title\", \"Centralizar horizontal\", 3, \"click\"], [\"title\", \"Alinhar \\u00E0 direita\", 3, \"click\"], [\"title\", \"Alinhar ao topo\", 3, \"click\"], [\"title\", \"Centralizar vertical\", 3, \"click\"], [\"title\", \"Alinhar ao rodap\\u00E9\", 3, \"click\"], [1, \"toolbar-section\", \"distribute-section\"], [\"title\", \"Distribuir horizontal\", 3, \"click\"], [\"title\", \"Distribuir vertical\", 3, \"click\"], [1, \"toolbar-section\", \"template-section\"], [\"title\", \"Inserir notas adesivas\", 3, \"click\"], [\"title\", \"Inserir mini fluxograma\", 3, \"click\"], [1, \"toolbar-section\", \"grid-section\"], [1, \"checkbox\"], [\"type\", \"checkbox\", 3, \"change\", \"checked\"], [1, \"grid-size\"], [\"type\", \"number\", \"min\", \"5\", \"max\", \"200\", 3, \"input\", \"value\"], [1, \"toolbar-section\", \"export-section\"], [\"title\", \"Exportar como PNG\", 3, \"click\"], [\"title\", \"Exportar como JSON\", 3, \"click\"], [\"title\", \"Importar JSON\", 3, \"click\"], [1, \"toolbar-section\", \"theme-section\"], [\"title\", \"Alternar tema\", 3, \"click\"], [1, \"tool-button\", 3, \"click\", \"title\"], [1, \"tool-icon\"]],\n        template: function ToolbarComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n            i0.ɵɵtext(3, \"\\uD83C\\uDFA8 Whiteboard\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(4, \"div\", 3);\n            i0.ɵɵtemplate(5, ToolbarComponent_button_5_Template, 3, 4, \"button\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"label\");\n            i0.ɵɵtext(9, \"Contorno:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"input\", 7);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_10_listener($event) {\n              return ctx.onStrokeColorChange($event.target.value);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\");\n            i0.ɵɵtext(13, \"Preenchimento:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"input\", 7);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_14_listener($event) {\n              return ctx.onFillColorChange($event.target.value);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\");\n            i0.ɵɵtext(17, \"Cor do texto:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"input\", 7);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_18_listener($event) {\n              return ctx.onTextColorChange($event.target.value);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 9)(20, \"label\");\n            i0.ɵɵtext(21, \"Largura:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"input\", 10);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_22_listener($event) {\n              return ctx.onWidthChange(+$event.target.value);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"label\");\n            i0.ɵɵtext(24, \"Altura:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"input\", 10);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_25_listener($event) {\n              return ctx.onHeightChange(+$event.target.value);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(26, \"div\", 11)(27, \"label\");\n            i0.ɵɵtext(28, \"Espessura:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"input\", 12);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_29_listener($event) {\n              return ctx.onStrokeWidthChange(+$event.target.value);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"span\");\n            i0.ɵɵtext(31);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"div\", 13)(33, \"label\");\n            i0.ɵɵtext(34, \"Tamanho:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"input\", 14);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_35_listener($event) {\n              return ctx.onFontSizeChange(+$event.target.value);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"label\");\n            i0.ɵɵtext(37, \"Fonte:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"select\", 15);\n            i0.ɵɵlistener(\"change\", function ToolbarComponent_Template_select_change_38_listener($event) {\n              return ctx.onFontFamilyChange($event.target.value);\n            });\n            i0.ɵɵelementStart(39, \"option\");\n            i0.ɵɵtext(40, \"Arial\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"option\");\n            i0.ɵɵtext(42, \"Segoe UI\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"option\");\n            i0.ɵɵtext(44, \"Roboto\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"option\");\n            i0.ɵɵtext(46, \"Inter\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"option\");\n            i0.ɵɵtext(48, \"Georgia\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"option\");\n            i0.ɵɵtext(50, \"Courier New\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(51, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_51_listener() {\n              return ctx.toggleBold();\n            });\n            i0.ɵɵtext(52, \"B\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(53, \"button\", 17);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_53_listener() {\n              return ctx.toggleItalic();\n            });\n            i0.ɵɵelementStart(54, \"i\");\n            i0.ɵɵtext(55, \"I\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(56, \"div\", 18)(57, \"button\", 19);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_57_listener() {\n              return ctx.undo();\n            });\n            i0.ɵɵtext(58, \" \\u21B6 Desfazer \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(59, \"button\", 20);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_59_listener() {\n              return ctx.redo();\n            });\n            i0.ɵɵtext(60, \" \\u21B7 Refazer \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(61, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_61_listener() {\n              return ctx.zoomIn();\n            });\n            i0.ɵɵtext(62, \"\\uD83D\\uDD0D+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(63, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_63_listener() {\n              return ctx.zoomOut();\n            });\n            i0.ɵɵtext(64, \"\\uD83D\\uDD0D-\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(65, \"button\", 23);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_65_listener() {\n              return ctx.resetZoom();\n            });\n            i0.ɵɵtext(66, \"100%\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(67, \"button\", 24);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_67_listener() {\n              return ctx.deleteSelected();\n            });\n            i0.ɵɵtext(68, \" \\uD83D\\uDDD1\\uFE0F Deletar \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(69, \"button\", 25);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_69_listener() {\n              return ctx.clearCanvas();\n            });\n            i0.ɵɵtext(70, \" \\uD83D\\uDDD1\\uFE0F Limpar Tudo \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(71, \"div\", 26)(72, \"button\", 27);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_72_listener() {\n              return ctx.rotateLeft();\n            });\n            i0.ɵɵtext(73, \"\\u27F2 -15\\u00B0\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(74, \"button\", 28);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_74_listener() {\n              return ctx.rotateRight();\n            });\n            i0.ɵɵtext(75, \"\\u27F3 +15\\u00B0\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(76, \"div\", 29)(77, \"button\", 30);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_77_listener() {\n              return ctx.bringToFront();\n            });\n            i0.ɵɵtext(78, \"\\u2B06 Frente\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(79, \"button\", 31);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_79_listener() {\n              return ctx.sendToBack();\n            });\n            i0.ɵɵtext(80, \"\\u2B07 Tr\\u00E1s\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(81, \"div\", 32)(82, \"button\", 33);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_82_listener() {\n              return ctx.group();\n            });\n            i0.ɵɵtext(83, \"\\uD83E\\uDDE9 Agrupar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(84, \"button\", 34);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_84_listener() {\n              return ctx.ungroup();\n            });\n            i0.ɵɵtext(85, \"\\uD83E\\uDDE9 Desagrupar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(86, \"div\", 35)(87, \"button\", 36);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_87_listener() {\n              return ctx.align(\"left\");\n            });\n            i0.ɵɵtext(88, \"\\u27F8\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(89, \"button\", 37);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_89_listener() {\n              return ctx.align(\"center\");\n            });\n            i0.ɵɵtext(90, \"\\u21E4\\u21E5\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(91, \"button\", 38);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_91_listener() {\n              return ctx.align(\"right\");\n            });\n            i0.ɵɵtext(92, \"\\u27F9\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(93, \"button\", 39);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_93_listener() {\n              return ctx.align(\"top\");\n            });\n            i0.ɵɵtext(94, \"\\u21D1\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(95, \"button\", 40);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_95_listener() {\n              return ctx.align(\"middle\");\n            });\n            i0.ɵɵtext(96, \"\\u21DE\\u21DF\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(97, \"button\", 41);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_97_listener() {\n              return ctx.align(\"bottom\");\n            });\n            i0.ɵɵtext(98, \"\\u21D3\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(99, \"div\", 42)(100, \"button\", 43);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_100_listener() {\n              return ctx.distribute(\"horizontal\");\n            });\n            i0.ɵɵtext(101, \"\\u27F7\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(102, \"button\", 44);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_102_listener() {\n              return ctx.distribute(\"vertical\");\n            });\n            i0.ɵɵtext(103, \"\\u2195\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(104, \"div\", 45)(105, \"button\", 46);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_105_listener() {\n              return ctx.applyTemplate(\"sticky-notes\");\n            });\n            i0.ɵɵtext(106, \"\\uD83D\\uDCDD Notas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(107, \"button\", 47);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_107_listener() {\n              return ctx.applyTemplate(\"flow\");\n            });\n            i0.ɵɵtext(108, \"\\uD83E\\uDDED Fluxo\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(109, \"div\", 48)(110, \"label\", 49)(111, \"input\", 50);\n            i0.ɵɵlistener(\"change\", function ToolbarComponent_Template_input_change_111_listener() {\n              return ctx.toggleSnapToGrid();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(112, \" Snap to grid \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(113, \"div\", 51)(114, \"label\");\n            i0.ɵɵtext(115, \"Tamanho da grade:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(116, \"input\", 52);\n            i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_116_listener($event) {\n              return ctx.onGridSizeChange(+$event.target.value);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(117, \"span\");\n            i0.ɵɵtext(118);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(119, \"div\", 53)(120, \"button\", 54);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_120_listener() {\n              return ctx.exportToPNG();\n            });\n            i0.ɵɵtext(121, \" \\uD83D\\uDCBE PNG \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(122, \"button\", 55);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_122_listener() {\n              return ctx.exportToJSON();\n            });\n            i0.ɵɵtext(123, \" \\uD83D\\uDCBE JSON \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(124, \"button\", 56);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_124_listener() {\n              return ctx.importFromJSON();\n            });\n            i0.ɵɵtext(125, \" \\uD83D\\uDCC2 Importar \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(126, \"div\", 57)(127, \"button\", 58);\n            i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_127_listener() {\n              return ctx.toggleTheme();\n            });\n            i0.ɵɵtext(128);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.tools);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"value\", ctx.strokeColor);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"value\", ctx.fillColor);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"value\", ctx.textColor);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"value\", ctx.selectedWidth);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"value\", ctx.selectedHeight);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"value\", ctx.strokeWidth);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"\", ctx.strokeWidth, \"px\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"value\", ctx.fontSize);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"value\", ctx.fontFamily);\n            i0.ɵɵadvance(13);\n            i0.ɵɵclassProp(\"active\", ctx.fontWeight === \"bold\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassProp(\"active\", ctx.fontStyle === \"italic\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", !ctx.canUndo);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", !ctx.canRedo);\n            i0.ɵɵadvance(52);\n            i0.ɵɵproperty(\"checked\", ctx.snapToGrid);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"value\", ctx.gridSize);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"\", ctx.gridSize, \"px\");\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate1(\" \", ctx.theme === \"light\" ? \"\\uD83C\\uDF19 Dark\" : \"\\u2600\\uFE0F Light\", \" \");\n          }\n        },\n        dependencies: [i4.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n        styles: [\".toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-1);flex-wrap:wrap;z-index:100;color:var(--text)}.toolbar-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text);margin:0 12px 0 0;letter-spacing:.01em}.toolbar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:6px 10px;border-right:1px solid var(--border);font-size:.9rem;color:var(--text)}.toolbar-section[_ngcontent-%COMP%]:last-child{border-right:none}.tools-section[_ngcontent-%COMP%]{gap:6px}.tool-button[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid var(--border);background:#ffffff0f;color:var(--text);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s ease;font-size:1.05rem;border-radius:12px}.tool-button.active[_ngcontent-%COMP%]{background:var(--accent);border-color:var(--accent);color:#fff;box-shadow:0 6px 18px #2563eb40}.tool-button[_ngcontent-%COMP%]:hover{background:#2563eb1f;border-color:var(--accent)}.tool-button[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{pointer-events:none}button[_ngcontent-%COMP%]{padding:8px 14px;border:1px solid var(--border);background:#ffffff0f;border-radius:10px;cursor:pointer;font-size:.92rem;font-weight:600;transition:all .15s ease;color:var(--text)}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb1f;border-color:var(--accent)}button[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed}.color-picker[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.88rem;color:var(--muted)}.color-picker[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:38px;height:32px;border:1px solid var(--border);border-radius:10px;cursor:pointer;background:transparent}.color-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:80px;padding:6px 8px;border:1px solid var(--border);border-radius:10px;color:var(--text);background:#ffffff0f}.color-picker[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 8px;border:1px solid var(--border);border-radius:10px;background:#ffffff0f;color:var(--text)}.color-picker[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:110px}.color-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;color:var(--muted)}.font-controls[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{width:36px;height:36px;border:1px solid var(--border);background:#ffffff14;color:var(--text);border-radius:10px;font-weight:700;cursor:pointer;transition:all .15s ease}.font-controls[_ngcontent-%COMP%]   .toggle.active[_ngcontent-%COMP%]{background:var(--accent);color:#fff;border-color:var(--accent);box-shadow:0 6px 18px #2563eb40}.grid-section[_ngcontent-%COMP%]{gap:10px}.grid-section[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.9rem;color:var(--muted)}.rotation-section[_ngcontent-%COMP%], .layer-section[_ngcontent-%COMP%], .group-section[_ngcontent-%COMP%], .align-section[_ngcontent-%COMP%], .distribute-section[_ngcontent-%COMP%], .template-section[_ngcontent-%COMP%], .theme-section[_ngcontent-%COMP%]{gap:6px}.align-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .distribute-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:38px;padding:6px}\"]\n      });\n    }\n  }\n  return ToolbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}