{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/tool.service\";\nimport * as i2 from \"../../services/canvas.service\";\nimport * as i3 from \"../../services/history.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ToolbarComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function ToolbarComponent_button_5_Template_button_click_0_listener() {\n      const tool_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectTool(tool_r2.type));\n    });\n    i0.ɵɵelementStart(1, \"span\", 60);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tool_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.currentTool === tool_r2.type);\n    i0.ɵɵproperty(\"title\", tool_r2.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tool_r2.icon);\n  }\n}\nexport class ToolbarComponent {\n  constructor(toolService, canvasService, historyService) {\n    this.toolService = toolService;\n    this.canvasService = canvasService;\n    this.historyService = historyService;\n    this.currentTool = 'select';\n    this.strokeColor = '#000000';\n    this.fillColor = '#ffffff';\n    this.strokeWidth = 2;\n    this.canUndo = false;\n    this.canRedo = false;\n    this.snapToGrid = false;\n    this.gridSize = 20;\n    this.theme = 'light';\n    this.fontSize = 16;\n    this.fontFamily = 'Arial';\n    this.fontWeight = 'normal';\n    this.fontStyle = 'normal';\n    this.hasTextSelection = false;\n    this.textColor = '#000000';\n    this.selectedWidth = 120;\n    this.selectedHeight = 80;\n    this.tools = [{\n      type: 'select',\n      icon: '↖',\n      label: 'Selecionar'\n    }, {\n      type: 'pan',\n      icon: '✋',\n      label: 'Mover Canvas'\n    }, {\n      type: 'rectangle',\n      icon: '⬜',\n      label: 'Retângulo'\n    }, {\n      type: 'circle',\n      icon: '⭕',\n      label: 'Círculo'\n    }, {\n      type: 'ellipse',\n      icon: '⬭',\n      label: 'Elipse'\n    }, {\n      type: 'arrow',\n      icon: '→',\n      label: 'Seta'\n    }, {\n      type: 'line',\n      icon: '─',\n      label: 'Linha'\n    }, {\n      type: 'triangle',\n      icon: '▲',\n      label: 'Triângulo'\n    }, {\n      type: 'star',\n      icon: '★',\n      label: 'Estrela'\n    }, {\n      type: 'polygon',\n      icon: '⬣',\n      label: 'Polígono'\n    }, {\n      type: 'freedraw',\n      icon: '✏',\n      label: 'Desenho Livre'\n    }, {\n      type: 'text',\n      icon: 'T',\n      label: 'Texto'\n    }];\n  }\n  ngOnInit() {\n    this.toolService.currentTool$.subscribe(tool => {\n      this.currentTool = tool;\n    });\n    this.toolService.strokeColor$.subscribe(color => {\n      this.strokeColor = color;\n      this.textColor = color;\n    });\n    this.toolService.fillColor$.subscribe(color => {\n      this.fillColor = color;\n    });\n    this.toolService.strokeWidth$.subscribe(width => {\n      this.strokeWidth = width;\n    });\n    this.toolService.fontSize$.subscribe(size => {\n      this.fontSize = size;\n    });\n    this.toolService.fontFamily$.subscribe(family => {\n      this.fontFamily = family;\n    });\n    this.toolService.fontWeight$.subscribe(weight => {\n      this.fontWeight = weight;\n    });\n    this.toolService.fontStyle$.subscribe(style => {\n      this.fontStyle = style;\n    });\n    this.historyService.canUndo$.subscribe(canUndo => {\n      this.canUndo = canUndo;\n    });\n    this.historyService.canRedo$.subscribe(canRedo => {\n      this.canRedo = canRedo;\n    });\n    this.canvasService.snapToGrid$.subscribe(enabled => {\n      this.snapToGrid = enabled;\n    });\n    this.canvasService.gridSize$.subscribe(size => {\n      this.gridSize = size;\n    });\n    this.canvasService.theme$.subscribe(theme => {\n      this.theme = theme;\n    });\n    this.canvasService.elements$.subscribe(elements => {\n      const selected = elements.find(el => el.isSelected);\n      const selectedText = elements.find(el => el.isSelected && !!el.text);\n      this.hasTextSelection = !!selectedText;\n      if (selected) {\n        if (selected.width) this.selectedWidth = Math.round(selected.width);\n        if (selected.height) this.selectedHeight = Math.round(selected.height);\n      }\n      if (selectedText) {\n        if (selectedText.fontSize) this.toolService.setFontSize(selectedText.fontSize);\n        if (selectedText.fontFamily) this.toolService.setFontFamily(selectedText.fontFamily);\n        if (selectedText.fontWeight) this.toolService.setFontWeight(selectedText.fontWeight);\n        if (selectedText.fontStyle) this.toolService.setFontStyle(selectedText.fontStyle);\n        if (selectedText.strokeColor) {\n          this.toolService.setStrokeColor(selectedText.strokeColor);\n          this.textColor = selectedText.strokeColor;\n        }\n      }\n    });\n  }\n  selectTool(tool) {\n    this.toolService.setTool(tool);\n  }\n  onStrokeColorChange(color) {\n    this.toolService.setStrokeColor(color);\n    this.applyTextStyleToSelection();\n  }\n  onTextColorChange(color) {\n    this.textColor = color;\n    this.toolService.setStrokeColor(color);\n    this.applyTextStyleToSelection();\n  }\n  onFillColorChange(color) {\n    this.toolService.setFillColor(color);\n  }\n  onStrokeWidthChange(width) {\n    this.toolService.setStrokeWidth(width);\n  }\n  onFontSizeChange(size) {\n    this.toolService.setFontSize(size);\n    this.applyTextStyleToSelection();\n  }\n  onFontFamilyChange(family) {\n    this.toolService.setFontFamily(family);\n    this.applyTextStyleToSelection();\n  }\n  toggleBold() {\n    this.toolService.toggleBold();\n    this.applyTextStyleToSelection();\n  }\n  toggleItalic() {\n    this.toolService.toggleItalic();\n    this.applyTextStyleToSelection();\n  }\n  onWidthChange(width) {\n    if (width <= 0) return;\n    this.selectedWidth = width;\n    this.canvasService.updateSelectedDimensions({\n      width\n    });\n    this.historyService.addState(this.canvasService.getState());\n  }\n  onHeightChange(height) {\n    if (height <= 0) return;\n    this.selectedHeight = height;\n    this.canvasService.updateSelectedDimensions({\n      height\n    });\n    this.historyService.addState(this.canvasService.getState());\n  }\n  applyTextStyleToSelection() {\n    if (!this.hasTextSelection) return;\n    this.canvasService.updateSelectedTextStyle({\n      fontSize: this.fontSize,\n      fontFamily: this.fontFamily,\n      fontWeight: this.fontWeight,\n      fontStyle: this.fontStyle,\n      strokeColor: this.textColor\n    });\n    this.historyService.addState(this.canvasService.getState());\n  }\n  undo() {\n    const state = this.historyService.undo();\n    if (state) {\n      this.canvasService.setState(state);\n    }\n  }\n  redo() {\n    const state = this.historyService.redo();\n    if (state) {\n      this.canvasService.setState(state);\n    }\n  }\n  zoomIn() {\n    this.canvasService.setZoom(this.canvasService.zoom * 1.2);\n  }\n  zoomOut() {\n    this.canvasService.setZoom(this.canvasService.zoom / 1.2);\n  }\n  resetZoom() {\n    this.canvasService.setZoom(1);\n    this.canvasService.setPan({\n      x: 0,\n      y: 0\n    });\n  }\n  toggleSnapToGrid() {\n    this.canvasService.setSnapToGrid(!this.snapToGrid);\n  }\n  onGridSizeChange(size) {\n    this.canvasService.setGridSize(size);\n  }\n  deleteSelected() {\n    this.canvasService.deleteSelectedElements();\n    this.historyService.addState(this.canvasService.getState());\n  }\n  clearCanvas() {\n    if (confirm('Tem certeza que deseja limpar todo o canvas?')) {\n      this.canvasService.clear();\n      this.historyService.clear();\n      this.historyService.addState(this.canvasService.getState());\n    }\n  }\n  rotateLeft() {\n    this.canvasService.rotateSelected(-15);\n    this.historyService.addState(this.canvasService.getState());\n  }\n  rotateRight() {\n    this.canvasService.rotateSelected(15);\n    this.historyService.addState(this.canvasService.getState());\n  }\n  align(direction) {\n    this.canvasService.alignSelected(direction);\n    this.historyService.addState(this.canvasService.getState());\n  }\n  distribute(orientation) {\n    this.canvasService.distributeSelected(orientation);\n    this.historyService.addState(this.canvasService.getState());\n  }\n  group() {\n    this.canvasService.groupSelected();\n    this.historyService.addState(this.canvasService.getState());\n  }\n  ungroup() {\n    this.canvasService.ungroupSelected();\n    this.historyService.addState(this.canvasService.getState());\n  }\n  bringToFront() {\n    this.canvasService.bringToFront();\n    this.historyService.addState(this.canvasService.getState());\n  }\n  sendToBack() {\n    this.canvasService.sendToBack();\n    this.historyService.addState(this.canvasService.getState());\n  }\n  applyTemplate(name) {\n    this.canvasService.insertTemplate(name);\n    this.historyService.addState(this.canvasService.getState());\n  }\n  toggleTheme() {\n    const next = this.theme === 'light' ? 'dark' : 'light';\n    this.canvasService.setTheme(next);\n  }\n  exportToPNG() {\n    const canvas = document.querySelector('canvas');\n    if (canvas) {\n      const link = document.createElement('a');\n      link.download = 'whiteboard.png';\n      link.href = canvas.toDataURL();\n      link.click();\n    }\n  }\n  exportToJSON() {\n    const json = this.canvasService.exportToJSON();\n    const blob = new Blob([json], {\n      type: 'application/json'\n    });\n    const link = document.createElement('a');\n    link.download = 'whiteboard.json';\n    link.href = URL.createObjectURL(blob);\n    link.click();\n  }\n  importFromJSON() {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.onchange = e => {\n      const file = e.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = event => {\n          const success = this.canvasService.importFromJSON(event.target.result);\n          if (success) {\n            this.historyService.clear();\n            this.historyService.addState(this.canvasService.getState());\n            alert('Importação realizada com sucesso!');\n          } else {\n            alert('Erro ao importar arquivo!');\n          }\n        };\n        reader.readAsText(file);\n      }\n    };\n    input.click();\n  }\n  static {\n    this.ɵfac = function ToolbarComponent_Factory(t) {\n      return new (t || ToolbarComponent)(i0.ɵɵdirectiveInject(i1.ToolService), i0.ɵɵdirectiveInject(i2.CanvasService), i0.ɵɵdirectiveInject(i3.HistoryService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ToolbarComponent,\n      selectors: [[\"app-toolbar\"]],\n      decls: 129,\n      vars: 20,\n      consts: [[1, \"toolbar\"], [1, \"toolbar-section\"], [1, \"toolbar-title\"], [1, \"toolbar-section\", \"tools-section\"], [\"class\", \"tool-button\", 3, \"active\", \"title\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"toolbar-section\", \"colors-section\"], [1, \"color-picker\"], [\"type\", \"color\", 3, \"input\", \"value\"], [1, \"color-picker\", \"text-color-picker\"], [1, \"size-inputs\"], [\"type\", \"number\", \"min\", \"1\", 3, \"input\", \"value\"], [1, \"stroke-width\"], [\"type\", \"range\", \"min\", \"1\", \"max\", \"10\", 3, \"input\", \"value\"], [1, \"font-controls\"], [\"type\", \"number\", \"min\", \"8\", \"max\", \"72\", 3, \"input\", \"value\"], [3, \"change\", \"value\"], [\"title\", \"Negrito\", 1, \"toggle\", 3, \"click\"], [\"title\", \"It\\u00E1lico\", 1, \"toggle\", 3, \"click\"], [1, \"toolbar-section\", \"actions-section\"], [\"title\", \"Desfazer (Ctrl+Z)\", 3, \"click\", \"disabled\"], [\"title\", \"Refazer (Ctrl+Y)\", 3, \"click\", \"disabled\"], [\"title\", \"Aumentar Zoom\", 3, \"click\"], [\"title\", \"Diminuir Zoom\", 3, \"click\"], [\"title\", \"Resetar Zoom\", 3, \"click\"], [\"title\", \"Deletar Selecionados (Delete)\", 3, \"click\"], [\"title\", \"Limpar Canvas\", 3, \"click\"], [1, \"toolbar-section\", \"rotation-section\"], [\"title\", \"Rotacionar -15\\u00B0\", 3, \"click\"], [\"title\", \"Rotacionar +15\\u00B0\", 3, \"click\"], [1, \"toolbar-section\", \"layer-section\"], [\"title\", \"Trazer para frente\", 3, \"click\"], [\"title\", \"Enviar para tr\\u00E1s\", 3, \"click\"], [1, \"toolbar-section\", \"group-section\"], [\"title\", \"Agrupar selecionados\", 3, \"click\"], [\"title\", \"Desagrupar\", 3, \"click\"], [1, \"toolbar-section\", \"align-section\"], [\"title\", \"Alinhar \\u00E0 esquerda\", 3, \"click\"], [\"title\", \"Centralizar horizontal\", 3, \"click\"], [\"title\", \"Alinhar \\u00E0 direita\", 3, \"click\"], [\"title\", \"Alinhar ao topo\", 3, \"click\"], [\"title\", \"Centralizar vertical\", 3, \"click\"], [\"title\", \"Alinhar ao rodap\\u00E9\", 3, \"click\"], [1, \"toolbar-section\", \"distribute-section\"], [\"title\", \"Distribuir horizontal\", 3, \"click\"], [\"title\", \"Distribuir vertical\", 3, \"click\"], [1, \"toolbar-section\", \"template-section\"], [\"title\", \"Inserir notas adesivas\", 3, \"click\"], [\"title\", \"Inserir mini fluxograma\", 3, \"click\"], [1, \"toolbar-section\", \"grid-section\"], [1, \"checkbox\"], [\"type\", \"checkbox\", 3, \"change\", \"checked\"], [1, \"grid-size\"], [\"type\", \"number\", \"min\", \"5\", \"max\", \"200\", 3, \"input\", \"value\"], [1, \"toolbar-section\", \"export-section\"], [\"title\", \"Exportar como PNG\", 3, \"click\"], [\"title\", \"Exportar como JSON\", 3, \"click\"], [\"title\", \"Importar JSON\", 3, \"click\"], [1, \"toolbar-section\", \"theme-section\"], [\"title\", \"Alternar tema\", 3, \"click\"], [1, \"tool-button\", 3, \"click\", \"title\"], [1, \"tool-icon\"]],\n      template: function ToolbarComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \"\\uD83C\\uDFA8 Whiteboard\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtemplate(5, ToolbarComponent_button_5_Template, 3, 4, \"button\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"label\");\n          i0.ɵɵtext(9, \"Contorno:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"input\", 7);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_10_listener($event) {\n            return ctx.onStrokeColorChange($event.target.value);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\");\n          i0.ɵɵtext(13, \"Preenchimento:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 7);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_14_listener($event) {\n            return ctx.onFillColorChange($event.target.value);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\");\n          i0.ɵɵtext(17, \"Cor do texto:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 7);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_18_listener($event) {\n            return ctx.onTextColorChange($event.target.value);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 9)(20, \"label\");\n          i0.ɵɵtext(21, \"Largura:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"input\", 10);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_22_listener($event) {\n            return ctx.onWidthChange(+$event.target.value);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"label\");\n          i0.ɵɵtext(24, \"Altura:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 10);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_25_listener($event) {\n            return ctx.onHeightChange(+$event.target.value);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 11)(27, \"label\");\n          i0.ɵɵtext(28, \"Espessura:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"input\", 12);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_29_listener($event) {\n            return ctx.onStrokeWidthChange(+$event.target.value);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"span\");\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"div\", 13)(33, \"label\");\n          i0.ɵɵtext(34, \"Tamanho:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"input\", 14);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_35_listener($event) {\n            return ctx.onFontSizeChange(+$event.target.value);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"label\");\n          i0.ɵɵtext(37, \"Fonte:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"select\", 15);\n          i0.ɵɵlistener(\"change\", function ToolbarComponent_Template_select_change_38_listener($event) {\n            return ctx.onFontFamilyChange($event.target.value);\n          });\n          i0.ɵɵelementStart(39, \"option\");\n          i0.ɵɵtext(40, \"Arial\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"option\");\n          i0.ɵɵtext(42, \"Segoe UI\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"option\");\n          i0.ɵɵtext(44, \"Roboto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"option\");\n          i0.ɵɵtext(46, \"Inter\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"option\");\n          i0.ɵɵtext(48, \"Georgia\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"option\");\n          i0.ɵɵtext(50, \"Courier New\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(51, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_51_listener() {\n            return ctx.toggleBold();\n          });\n          i0.ɵɵtext(52, \"B\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_53_listener() {\n            return ctx.toggleItalic();\n          });\n          i0.ɵɵelementStart(54, \"i\");\n          i0.ɵɵtext(55, \"I\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(56, \"div\", 18)(57, \"button\", 19);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_57_listener() {\n            return ctx.undo();\n          });\n          i0.ɵɵtext(58, \" \\u21B6 Desfazer \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"button\", 20);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_59_listener() {\n            return ctx.redo();\n          });\n          i0.ɵɵtext(60, \" \\u21B7 Refazer \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(61, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_61_listener() {\n            return ctx.zoomIn();\n          });\n          i0.ɵɵtext(62, \"\\uD83D\\uDD0D+\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(63, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_63_listener() {\n            return ctx.zoomOut();\n          });\n          i0.ɵɵtext(64, \"\\uD83D\\uDD0D-\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"button\", 23);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_65_listener() {\n            return ctx.resetZoom();\n          });\n          i0.ɵɵtext(66, \"100%\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"button\", 24);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_67_listener() {\n            return ctx.deleteSelected();\n          });\n          i0.ɵɵtext(68, \" \\uD83D\\uDDD1\\uFE0F Deletar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(69, \"button\", 25);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_69_listener() {\n            return ctx.clearCanvas();\n          });\n          i0.ɵɵtext(70, \" \\uD83D\\uDDD1\\uFE0F Limpar Tudo \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(71, \"div\", 26)(72, \"button\", 27);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_72_listener() {\n            return ctx.rotateLeft();\n          });\n          i0.ɵɵtext(73, \"\\u27F2 -15\\u00B0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(74, \"button\", 28);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_74_listener() {\n            return ctx.rotateRight();\n          });\n          i0.ɵɵtext(75, \"\\u27F3 +15\\u00B0\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(76, \"div\", 29)(77, \"button\", 30);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_77_listener() {\n            return ctx.bringToFront();\n          });\n          i0.ɵɵtext(78, \"\\u2B06 Frente\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(79, \"button\", 31);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_79_listener() {\n            return ctx.sendToBack();\n          });\n          i0.ɵɵtext(80, \"\\u2B07 Tr\\u00E1s\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(81, \"div\", 32)(82, \"button\", 33);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_82_listener() {\n            return ctx.group();\n          });\n          i0.ɵɵtext(83, \"\\uD83E\\uDDE9 Agrupar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(84, \"button\", 34);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_84_listener() {\n            return ctx.ungroup();\n          });\n          i0.ɵɵtext(85, \"\\uD83E\\uDDE9 Desagrupar\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(86, \"div\", 35)(87, \"button\", 36);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_87_listener() {\n            return ctx.align(\"left\");\n          });\n          i0.ɵɵtext(88, \"\\u27F8\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(89, \"button\", 37);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_89_listener() {\n            return ctx.align(\"center\");\n          });\n          i0.ɵɵtext(90, \"\\u21E4\\u21E5\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"button\", 38);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_91_listener() {\n            return ctx.align(\"right\");\n          });\n          i0.ɵɵtext(92, \"\\u27F9\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(93, \"button\", 39);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_93_listener() {\n            return ctx.align(\"top\");\n          });\n          i0.ɵɵtext(94, \"\\u21D1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(95, \"button\", 40);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_95_listener() {\n            return ctx.align(\"middle\");\n          });\n          i0.ɵɵtext(96, \"\\u21DE\\u21DF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(97, \"button\", 41);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_97_listener() {\n            return ctx.align(\"bottom\");\n          });\n          i0.ɵɵtext(98, \"\\u21D3\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(99, \"div\", 42)(100, \"button\", 43);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_100_listener() {\n            return ctx.distribute(\"horizontal\");\n          });\n          i0.ɵɵtext(101, \"\\u27F7\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(102, \"button\", 44);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_102_listener() {\n            return ctx.distribute(\"vertical\");\n          });\n          i0.ɵɵtext(103, \"\\u2195\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(104, \"div\", 45)(105, \"button\", 46);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_105_listener() {\n            return ctx.applyTemplate(\"sticky-notes\");\n          });\n          i0.ɵɵtext(106, \"\\uD83D\\uDCDD Notas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(107, \"button\", 47);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_107_listener() {\n            return ctx.applyTemplate(\"flow\");\n          });\n          i0.ɵɵtext(108, \"\\uD83E\\uDDED Fluxo\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(109, \"div\", 48)(110, \"label\", 49)(111, \"input\", 50);\n          i0.ɵɵlistener(\"change\", function ToolbarComponent_Template_input_change_111_listener() {\n            return ctx.toggleSnapToGrid();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(112, \" Snap to grid \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(113, \"div\", 51)(114, \"label\");\n          i0.ɵɵtext(115, \"Tamanho da grade:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(116, \"input\", 52);\n          i0.ɵɵlistener(\"input\", function ToolbarComponent_Template_input_input_116_listener($event) {\n            return ctx.onGridSizeChange(+$event.target.value);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(117, \"span\");\n          i0.ɵɵtext(118);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(119, \"div\", 53)(120, \"button\", 54);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_120_listener() {\n            return ctx.exportToPNG();\n          });\n          i0.ɵɵtext(121, \" \\uD83D\\uDCBE PNG \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(122, \"button\", 55);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_122_listener() {\n            return ctx.exportToJSON();\n          });\n          i0.ɵɵtext(123, \" \\uD83D\\uDCBE JSON \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(124, \"button\", 56);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_124_listener() {\n            return ctx.importFromJSON();\n          });\n          i0.ɵɵtext(125, \" \\uD83D\\uDCC2 Importar \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(126, \"div\", 57)(127, \"button\", 58);\n          i0.ɵɵlistener(\"click\", function ToolbarComponent_Template_button_click_127_listener() {\n            return ctx.toggleTheme();\n          });\n          i0.ɵɵtext(128);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.tools);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"value\", ctx.strokeColor);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.fillColor);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.textColor);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.selectedWidth);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"value\", ctx.selectedHeight);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.strokeWidth);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.strokeWidth, \"px\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.fontSize);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"value\", ctx.fontFamily);\n          i0.ɵɵadvance(13);\n          i0.ɵɵclassProp(\"active\", ctx.fontWeight === \"bold\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.fontStyle === \"italic\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", !ctx.canUndo);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.canRedo);\n          i0.ɵɵadvance(52);\n          i0.ɵɵproperty(\"checked\", ctx.snapToGrid);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"value\", ctx.gridSize);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.gridSize, \"px\");\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate1(\" \", ctx.theme === \"light\" ? \"\\uD83C\\uDF19 Dark\" : \"\\u2600\\uFE0F Light\", \" \");\n        }\n      },\n      dependencies: [i4.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n      styles: [\".toolbar[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  padding: 12px 16px;\\n  background: var(--surface);\\n  border: 1px solid var(--border);\\n  border-radius: 16px;\\n  box-shadow: var(--shadow-1);\\n  flex-wrap: wrap;\\n  z-index: 100;\\n  color: var(--text);\\n}\\n\\n.toolbar-title[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n  font-weight: 700;\\n  color: var(--text);\\n  margin: 0 12px 0 0;\\n  letter-spacing: 0.01em;\\n}\\n\\n.toolbar-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  padding: 6px 10px;\\n  border-right: 1px solid var(--border);\\n  font-size: 0.9rem;\\n  color: var(--text);\\n}\\n.toolbar-section[_ngcontent-%COMP%]:last-child {\\n  border-right: none;\\n}\\n\\n.tools-section[_ngcontent-%COMP%] {\\n  gap: 6px;\\n}\\n\\n.tool-button[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border: 1px solid var(--border);\\n  background: rgba(255, 255, 255, 0.06);\\n  color: var(--text);\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.15s ease;\\n  font-size: 1.05rem;\\n  border-radius: 12px;\\n}\\n.tool-button.active[_ngcontent-%COMP%] {\\n  background: var(--accent);\\n  border-color: var(--accent);\\n  color: #fff;\\n  box-shadow: 0 6px 18px rgba(37, 99, 235, 0.25);\\n}\\n.tool-button[_ngcontent-%COMP%]:hover {\\n  background: rgba(37, 99, 235, 0.12);\\n  border-color: var(--accent);\\n}\\n.tool-button[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%] {\\n  pointer-events: none;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 8px 14px;\\n  border: 1px solid var(--border);\\n  background: rgba(255, 255, 255, 0.06);\\n  border-radius: 10px;\\n  cursor: pointer;\\n  font-size: 0.92rem;\\n  font-weight: 600;\\n  transition: all 0.15s ease;\\n  color: var(--text);\\n}\\nbutton[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: rgba(37, 99, 235, 0.12);\\n  border-color: var(--accent);\\n}\\nbutton[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.45;\\n  cursor: not-allowed;\\n}\\n\\n.color-picker[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 0.88rem;\\n  color: var(--muted);\\n}\\n.color-picker[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%] {\\n  width: 38px;\\n  height: 32px;\\n  border: 1px solid var(--border);\\n  border-radius: 10px;\\n  cursor: pointer;\\n  background: transparent;\\n}\\n.color-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%] {\\n  width: 80px;\\n  padding: 6px 8px;\\n  border: 1px solid var(--border);\\n  border-radius: 10px;\\n  color: var(--text);\\n  background: rgba(255, 255, 255, 0.06);\\n}\\n.color-picker[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  padding: 6px 8px;\\n  border: 1px solid var(--border);\\n  border-radius: 10px;\\n  background: rgba(255, 255, 255, 0.06);\\n  color: var(--text);\\n}\\n.color-picker[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%] {\\n  width: 110px;\\n}\\n.color-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .text-color-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .stroke-width[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .size-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .font-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .grid-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-size: 0.85rem;\\n  color: var(--muted);\\n}\\n\\n.font-controls[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%] {\\n  width: 36px;\\n  height: 36px;\\n  border: 1px solid var(--border);\\n  background: rgba(255, 255, 255, 0.08);\\n  color: var(--text);\\n  border-radius: 10px;\\n  font-weight: 700;\\n  cursor: pointer;\\n  transition: all 0.15s ease;\\n}\\n.font-controls[_ngcontent-%COMP%]   .toggle.active[_ngcontent-%COMP%] {\\n  background: var(--accent);\\n  color: #fff;\\n  border-color: var(--accent);\\n  box-shadow: 0 6px 18px rgba(37, 99, 235, 0.25);\\n}\\n\\n.grid-section[_ngcontent-%COMP%] {\\n  gap: 10px;\\n}\\n.grid-section[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  font-size: 0.9rem;\\n  color: var(--muted);\\n}\\n\\n.rotation-section[_ngcontent-%COMP%], .layer-section[_ngcontent-%COMP%], .group-section[_ngcontent-%COMP%], .align-section[_ngcontent-%COMP%], .distribute-section[_ngcontent-%COMP%], .template-section[_ngcontent-%COMP%], .theme-section[_ngcontent-%COMP%] {\\n  gap: 6px;\\n}\\n\\n.align-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .distribute-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 38px;\\n  padding: 6px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90b29sYmFyL3Rvb2xiYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQkFBQTtFQUNBLCtCQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSxpQkFBQTtFQUNBLHFDQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUNGO0FBQ0U7RUFDRSxrQkFBQTtBQUNKOztBQUdBO0VBQ0UsUUFBQTtBQUFGOztBQUdBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtFQUNBLHFDQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUFBRjtBQUVFO0VBQ0UseUJBQUE7RUFDQSwyQkFBQTtFQUNBLFdBQUE7RUFDQSw4Q0FBQTtBQUFKO0FBR0U7RUFDRSxtQ0FBQTtFQUNBLDJCQUFBO0FBREo7QUFJRTtFQUNFLG9CQUFBO0FBRko7O0FBTUE7RUFDRSxpQkFBQTtFQUNBLCtCQUFBO0VBQ0EscUNBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQkFBQTtBQUhGO0FBS0U7RUFDRSxtQ0FBQTtFQUNBLDJCQUFBO0FBSEo7QUFNRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQUpKOztBQVFBOzs7Ozs7RUFNRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0FBTEY7QUFPRTs7Ozs7O0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQUFKO0FBR0U7Ozs7OztFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtBQUlKO0FBREU7Ozs7OztFQUNFLFdBQUE7RUFDQSxnQkFBQTtFQUNBLCtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFDQUFBO0FBUUo7QUFMRTs7Ozs7O0VBQ0UsZ0JBQUE7RUFDQSwrQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUNBQUE7RUFDQSxrQkFBQTtBQVlKO0FBVEU7Ozs7OztFQUNFLFlBQUE7QUFnQko7QUFiRTs7Ozs7O0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtBQW9CSjs7QUFmRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsK0JBQUE7RUFDQSxxQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSwwQkFBQTtBQWtCSjtBQWhCSTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLDJCQUFBO0VBQ0EsOENBQUE7QUFrQk47O0FBYkE7RUFDRSxTQUFBO0FBZ0JGO0FBZEU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQWdCSjs7QUFaQTs7Ozs7OztFQU9FLFFBQUE7QUFlRjs7QUFaQTs7RUFFRSxXQUFBO0VBQ0EsWUFBQTtBQWVGIiwic291cmNlc0NvbnRlbnQiOlsiLnRvb2xiYXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDEycHg7XHJcbiAgcGFkZGluZzogMTJweCAxNnB4O1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UpO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctMSk7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIHotaW5kZXg6IDEwMDtcclxuICBjb2xvcjogdmFyKC0tdGV4dCk7XHJcbn1cclxuXHJcbi50b29sYmFyLXRpdGxlIHtcclxuICBmb250LXNpemU6IDEuMXJlbTtcclxuICBmb250LXdlaWdodDogNzAwO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0KTtcclxuICBtYXJnaW46IDAgMTJweCAwIDA7XHJcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMDFlbTtcclxufVxyXG5cclxuLnRvb2xiYXItc2VjdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMTBweDtcclxuICBwYWRkaW5nOiA2cHggMTBweDtcclxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xyXG4gIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0KTtcclxuXHJcbiAgJjpsYXN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1yaWdodDogbm9uZTtcclxuICB9XHJcbn1cclxuXHJcbi50b29scy1zZWN0aW9uIHtcclxuICBnYXA6IDZweDtcclxufVxyXG5cclxuLnRvb2wtYnV0dG9uIHtcclxuICB3aWR0aDogNDBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDYpO1xyXG4gIGNvbG9yOiB2YXIoLS10ZXh0KTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjE1cyBlYXNlO1xyXG4gIGZvbnQtc2l6ZTogMS4wNXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG5cclxuICAmLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQpO1xyXG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMzcsIDk5LCAyMzUsIDAuMjUpO1xyXG4gIH1cclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDM3LCA5OSwgMjM1LCAwLjEyKTtcclxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYWNjZW50KTtcclxuICB9XHJcblxyXG4gIC50b29sLWljb24ge1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG5idXR0b24ge1xyXG4gIHBhZGRpbmc6IDhweCAxNHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA2KTtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250LXNpemU6IDAuOTJyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZTtcclxuICBjb2xvcjogdmFyKC0tdGV4dCk7XHJcblxyXG4gICY6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgzNywgOTksIDIzNSwgMC4xMik7XHJcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudCk7XHJcbiAgfVxyXG5cclxuICAmOmRpc2FibGVkIHtcclxuICAgIG9wYWNpdHk6IDAuNDU7XHJcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG4gIH1cclxufVxyXG5cclxuLmNvbG9yLXBpY2tlcixcclxuLnRleHQtY29sb3ItcGlja2VyLFxyXG4uc3Ryb2tlLXdpZHRoLFxyXG4uc2l6ZS1pbnB1dHMsXHJcbi5mb250LWNvbnRyb2xzLFxyXG4uZ3JpZC1zaXplIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA4cHg7XHJcblxyXG4gIGxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogMC44OHJlbTtcclxuICAgIGNvbG9yOiB2YXIoLS1tdXRlZCk7XHJcbiAgfVxyXG5cclxuICBpbnB1dFt0eXBlPVwiY29sb3JcIl0ge1xyXG4gICAgd2lkdGg6IDM4cHg7XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIH1cclxuXHJcbiAgaW5wdXRbdHlwZT1cIm51bWJlclwiXSB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIHBhZGRpbmc6IDZweCA4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGNvbG9yOiB2YXIoLS10ZXh0KTtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNik7XHJcbiAgfVxyXG5cclxuICBzZWxlY3Qge1xyXG4gICAgcGFkZGluZzogNnB4IDhweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA2KTtcclxuICAgIGNvbG9yOiB2YXIoLS10ZXh0KTtcclxuICB9XHJcblxyXG4gIGlucHV0W3R5cGU9XCJyYW5nZVwiXSB7XHJcbiAgICB3aWR0aDogMTEwcHg7XHJcbiAgfVxyXG5cclxuICBzcGFuIHtcclxuICAgIGZvbnQtc2l6ZTogMC44NXJlbTtcclxuICAgIGNvbG9yOiB2YXIoLS1tdXRlZCk7XHJcbiAgfVxyXG59XHJcblxyXG4uZm9udC1jb250cm9scyB7XHJcbiAgLnRvZ2dsZSB7XHJcbiAgICB3aWR0aDogMzZweDtcclxuICAgIGhlaWdodDogMzZweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDgpO1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZTtcclxuXHJcbiAgICAmLmFjdGl2ZSB7XHJcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudCk7XHJcbiAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudCk7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgzNywgOTksIDIzNSwgMC4yNSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uZ3JpZC1zZWN0aW9uIHtcclxuICBnYXA6IDEwcHg7XHJcblxyXG4gIC5jaGVja2JveCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogNnB4O1xyXG4gICAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgICBjb2xvcjogdmFyKC0tbXV0ZWQpO1xyXG4gIH1cclxufVxyXG5cclxuLnJvdGF0aW9uLXNlY3Rpb24sXHJcbi5sYXllci1zZWN0aW9uLFxyXG4uZ3JvdXAtc2VjdGlvbixcclxuLmFsaWduLXNlY3Rpb24sXHJcbi5kaXN0cmlidXRlLXNlY3Rpb24sXHJcbi50ZW1wbGF0ZS1zZWN0aW9uLFxyXG4udGhlbWUtc2VjdGlvbiB7XHJcbiAgZ2FwOiA2cHg7XHJcbn1cclxuXHJcbi5hbGlnbi1zZWN0aW9uIGJ1dHRvbixcclxuLmRpc3RyaWJ1dGUtc2VjdGlvbiBidXR0b24ge1xyXG4gIHdpZHRoOiAzOHB4O1xyXG4gIHBhZGRpbmc6IDZweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ToolbarComponent_button_5_Template_button_click_0_listener","tool_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectTool","type","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","currentTool","ɵɵproperty","label","ɵɵadvance","ɵɵtextInterpolate","icon","ToolbarComponent","constructor","toolService","canvasService","historyService","strokeColor","fillColor","strokeWidth","canUndo","canRedo","snapToGrid","gridSize","theme","fontSize","fontFamily","fontWeight","fontStyle","hasTextSelection","textColor","selectedWidth","selectedHeight","tools","ngOnInit","currentTool$","subscribe","tool","strokeColor$","color","fillColor$","strokeWidth$","width","fontSize$","size","fontFamily$","family","fontWeight$","weight","fontStyle$","style","canUndo$","canRedo$","snapToGrid$","enabled","gridSize$","theme$","elements$","elements","selected","find","el","isSelected","selectedText","text","Math","round","height","setFontSize","setFontFamily","setFontWeight","setFontStyle","setStrokeColor","setTool","onStrokeColorChange","applyTextStyleToSelection","onTextColorChange","onFillColorChange","setFillColor","onStrokeWidthChange","setStrokeWidth","onFontSizeChange","onFontFamilyChange","toggleBold","toggleItalic","onWidthChange","updateSelectedDimensions","addState","getState","onHeightChange","updateSelectedTextStyle","undo","state","setState","redo","zoomIn","setZoom","zoom","zoomOut","resetZoom","setPan","x","y","toggleSnapToGrid","setSnapToGrid","onGridSizeChange","setGridSize","deleteSelected","deleteSelectedElements","clearCanvas","confirm","clear","rotateLeft","rotateSelected","rotateRight","align","direction","alignSelected","distribute","orientation","distributeSelected","group","groupSelected","ungroup","ungroupSelected","bringToFront","sendToBack","applyTemplate","name","insertTemplate","toggleTheme","next","setTheme","exportToPNG","canvas","document","querySelector","link","createElement","download","href","toDataURL","click","exportToJSON","json","blob","Blob","URL","createObjectURL","importFromJSON","input","accept","onchange","e","file","target","files","reader","FileReader","onload","event","success","result","alert","readAsText","ɵɵdirectiveInject","i1","ToolService","i2","CanvasService","i3","HistoryService","selectors","decls","vars","consts","template","ToolbarComponent_Template","rf","ctx","ɵɵtemplate","ToolbarComponent_button_5_Template","ToolbarComponent_Template_input_input_10_listener","$event","value","ToolbarComponent_Template_input_input_14_listener","ToolbarComponent_Template_input_input_18_listener","ToolbarComponent_Template_input_input_22_listener","ToolbarComponent_Template_input_input_25_listener","ToolbarComponent_Template_input_input_29_listener","ToolbarComponent_Template_input_input_35_listener","ToolbarComponent_Template_select_change_38_listener","ToolbarComponent_Template_button_click_51_listener","ToolbarComponent_Template_button_click_53_listener","ToolbarComponent_Template_button_click_57_listener","ToolbarComponent_Template_button_click_59_listener","ToolbarComponent_Template_button_click_61_listener","ToolbarComponent_Template_button_click_63_listener","ToolbarComponent_Template_button_click_65_listener","ToolbarComponent_Template_button_click_67_listener","ToolbarComponent_Template_button_click_69_listener","ToolbarComponent_Template_button_click_72_listener","ToolbarComponent_Template_button_click_74_listener","ToolbarComponent_Template_button_click_77_listener","ToolbarComponent_Template_button_click_79_listener","ToolbarComponent_Template_button_click_82_listener","ToolbarComponent_Template_button_click_84_listener","ToolbarComponent_Template_button_click_87_listener","ToolbarComponent_Template_button_click_89_listener","ToolbarComponent_Template_button_click_91_listener","ToolbarComponent_Template_button_click_93_listener","ToolbarComponent_Template_button_click_95_listener","ToolbarComponent_Template_button_click_97_listener","ToolbarComponent_Template_button_click_100_listener","ToolbarComponent_Template_button_click_102_listener","ToolbarComponent_Template_button_click_105_listener","ToolbarComponent_Template_button_click_107_listener","ToolbarComponent_Template_input_change_111_listener","ToolbarComponent_Template_input_input_116_listener","ToolbarComponent_Template_button_click_120_listener","ToolbarComponent_Template_button_click_122_listener","ToolbarComponent_Template_button_click_124_listener","ToolbarComponent_Template_button_click_127_listener","ɵɵtextInterpolate1"],"sources":["C:\\Users\\vinic\\Desktop\\Estagio\\Teste\\src\\app\\components\\toolbar\\toolbar.component.ts","C:\\Users\\vinic\\Desktop\\Estagio\\Teste\\src\\app\\components\\toolbar\\toolbar.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ToolService } from '../../services/tool.service';\r\nimport { CanvasService } from '../../services/canvas.service';\r\nimport { HistoryService } from '../../services/history.service';\r\nimport { ToolType } from '../../models/drawing.model';\r\n\r\n@Component({\r\n  selector: 'app-toolbar',\r\n  templateUrl: './toolbar.component.html',\r\n  styleUrls: ['./toolbar.component.scss']\r\n})\r\nexport class ToolbarComponent implements OnInit {\r\n  currentTool: ToolType = 'select';\r\n  strokeColor = '#000000';\r\n  fillColor = '#ffffff';\r\n  strokeWidth = 2;\r\n  canUndo = false;\r\n  canRedo = false;\r\n  snapToGrid = false;\r\n  gridSize = 20;\r\n  theme: 'light' | 'dark' = 'light';\r\n  fontSize = 16;\r\n  fontFamily = 'Arial';\r\n  fontWeight: 'normal' | 'bold' = 'normal';\r\n  fontStyle: 'normal' | 'italic' = 'normal';\r\n  hasTextSelection = false;\r\n  textColor = '#000000';\r\n  selectedWidth = 120;\r\n  selectedHeight = 80;\r\n\r\n  tools: { type: ToolType; icon: string; label: string }[] = [\r\n    { type: 'select', icon: '↖', label: 'Selecionar' },\r\n    { type: 'pan', icon: '✋', label: 'Mover Canvas' },\r\n    { type: 'rectangle', icon: '⬜', label: 'Retângulo' },\r\n    { type: 'circle', icon: '⭕', label: 'Círculo' },\r\n    { type: 'ellipse', icon: '⬭', label: 'Elipse' },\r\n    { type: 'arrow', icon: '→', label: 'Seta' },\r\n    { type: 'line', icon: '─', label: 'Linha' },\r\n    { type: 'triangle', icon: '▲', label: 'Triângulo' },\r\n    { type: 'star', icon: '★', label: 'Estrela' },\r\n    { type: 'polygon', icon: '⬣', label: 'Polígono' },\r\n    { type: 'freedraw', icon: '✏', label: 'Desenho Livre' },\r\n    { type: 'text', icon: 'T', label: 'Texto' }\r\n  ];\r\n\r\n  constructor(\r\n    public toolService: ToolService,\r\n    private canvasService: CanvasService,\r\n    private historyService: HistoryService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.toolService.currentTool$.subscribe(tool => {\r\n      this.currentTool = tool;\r\n    });\r\n\r\n    this.toolService.strokeColor$.subscribe(color => {\r\n      this.strokeColor = color;\r\n      this.textColor = color;\r\n    });\r\n\r\n    this.toolService.fillColor$.subscribe(color => {\r\n      this.fillColor = color;\r\n    });\r\n\r\n    this.toolService.strokeWidth$.subscribe(width => {\r\n      this.strokeWidth = width;\r\n    });\r\n\r\n    this.toolService.fontSize$.subscribe(size => {\r\n      this.fontSize = size;\r\n    });\r\n\r\n    this.toolService.fontFamily$.subscribe(family => {\r\n      this.fontFamily = family;\r\n    });\r\n\r\n    this.toolService.fontWeight$.subscribe(weight => {\r\n      this.fontWeight = weight;\r\n    });\r\n\r\n    this.toolService.fontStyle$.subscribe(style => {\r\n      this.fontStyle = style;\r\n    });\r\n\r\n    this.historyService.canUndo$.subscribe(canUndo => {\r\n      this.canUndo = canUndo;\r\n    });\r\n\r\n    this.historyService.canRedo$.subscribe(canRedo => {\r\n      this.canRedo = canRedo;\r\n    });\r\n\r\n    this.canvasService.snapToGrid$.subscribe(enabled => {\r\n      this.snapToGrid = enabled;\r\n    });\r\n\r\n    this.canvasService.gridSize$.subscribe(size => {\r\n      this.gridSize = size;\r\n    });\r\n\r\n    this.canvasService.theme$.subscribe(theme => {\r\n      this.theme = theme;\r\n    });\r\n\r\n    this.canvasService.elements$.subscribe(elements => {\r\n      const selected = elements.find(el => el.isSelected);\r\n      const selectedText = elements.find(el => el.isSelected && !!el.text);\r\n      this.hasTextSelection = !!selectedText;\r\n\r\n      if (selected) {\r\n        if (selected.width) this.selectedWidth = Math.round(selected.width);\r\n        if (selected.height) this.selectedHeight = Math.round(selected.height);\r\n      }\r\n\r\n      if (selectedText) {\r\n        if (selectedText.fontSize) this.toolService.setFontSize(selectedText.fontSize);\r\n        if (selectedText.fontFamily) this.toolService.setFontFamily(selectedText.fontFamily);\r\n        if (selectedText.fontWeight) this.toolService.setFontWeight(selectedText.fontWeight);\r\n        if (selectedText.fontStyle) this.toolService.setFontStyle(selectedText.fontStyle);\r\n        if (selectedText.strokeColor) {\r\n          this.toolService.setStrokeColor(selectedText.strokeColor);\r\n          this.textColor = selectedText.strokeColor;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  selectTool(tool: ToolType): void {\r\n    this.toolService.setTool(tool);\r\n  }\r\n\r\n  onStrokeColorChange(color: string): void {\r\n    this.toolService.setStrokeColor(color);\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  onTextColorChange(color: string): void {\r\n    this.textColor = color;\r\n    this.toolService.setStrokeColor(color);\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  onFillColorChange(color: string): void {\r\n    this.toolService.setFillColor(color);\r\n  }\r\n\r\n  onStrokeWidthChange(width: number): void {\r\n    this.toolService.setStrokeWidth(width);\r\n  }\r\n\r\n  onFontSizeChange(size: number): void {\r\n    this.toolService.setFontSize(size);\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  onFontFamilyChange(family: string): void {\r\n    this.toolService.setFontFamily(family);\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  toggleBold(): void {\r\n    this.toolService.toggleBold();\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  toggleItalic(): void {\r\n    this.toolService.toggleItalic();\r\n    this.applyTextStyleToSelection();\r\n  }\r\n\r\n  onWidthChange(width: number): void {\r\n    if (width <= 0) return;\r\n    this.selectedWidth = width;\r\n    this.canvasService.updateSelectedDimensions({ width });\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  onHeightChange(height: number): void {\r\n    if (height <= 0) return;\r\n    this.selectedHeight = height;\r\n    this.canvasService.updateSelectedDimensions({ height });\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  applyTextStyleToSelection(): void {\r\n    if (!this.hasTextSelection) return;\r\n    this.canvasService.updateSelectedTextStyle({\r\n      fontSize: this.fontSize,\r\n      fontFamily: this.fontFamily,\r\n      fontWeight: this.fontWeight,\r\n      fontStyle: this.fontStyle,\r\n      strokeColor: this.textColor\r\n    });\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  undo(): void {\r\n    const state = this.historyService.undo();\r\n    if (state) {\r\n      this.canvasService.setState(state);\r\n    }\r\n  }\r\n\r\n  redo(): void {\r\n    const state = this.historyService.redo();\r\n    if (state) {\r\n      this.canvasService.setState(state);\r\n    }\r\n  }\r\n\r\n  zoomIn(): void {\r\n    this.canvasService.setZoom(this.canvasService.zoom * 1.2);\r\n  }\r\n\r\n  zoomOut(): void {\r\n    this.canvasService.setZoom(this.canvasService.zoom / 1.2);\r\n  }\r\n\r\n  resetZoom(): void {\r\n    this.canvasService.setZoom(1);\r\n    this.canvasService.setPan({ x: 0, y: 0 });\r\n  }\r\n\r\n  toggleSnapToGrid(): void {\r\n    this.canvasService.setSnapToGrid(!this.snapToGrid);\r\n  }\r\n\r\n  onGridSizeChange(size: number): void {\r\n    this.canvasService.setGridSize(size);\r\n  }\r\n\r\n  deleteSelected(): void {\r\n    this.canvasService.deleteSelectedElements();\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  clearCanvas(): void {\r\n    if (confirm('Tem certeza que deseja limpar todo o canvas?')) {\r\n      this.canvasService.clear();\r\n      this.historyService.clear();\r\n      this.historyService.addState(this.canvasService.getState());\r\n    }\r\n  }\r\n\r\n  rotateLeft(): void {\r\n    this.canvasService.rotateSelected(-15);\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  rotateRight(): void {\r\n    this.canvasService.rotateSelected(15);\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  align(direction: 'left' | 'right' | 'top' | 'bottom' | 'center' | 'middle'): void {\r\n    this.canvasService.alignSelected(direction);\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  distribute(orientation: 'horizontal' | 'vertical'): void {\r\n    this.canvasService.distributeSelected(orientation);\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  group(): void {\r\n    this.canvasService.groupSelected();\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  ungroup(): void {\r\n    this.canvasService.ungroupSelected();\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  bringToFront(): void {\r\n    this.canvasService.bringToFront();\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  sendToBack(): void {\r\n    this.canvasService.sendToBack();\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  applyTemplate(name: 'sticky-notes' | 'flow'): void {\r\n    this.canvasService.insertTemplate(name);\r\n    this.historyService.addState(this.canvasService.getState());\r\n  }\r\n\r\n  toggleTheme(): void {\r\n    const next = this.theme === 'light' ? 'dark' : 'light';\r\n    this.canvasService.setTheme(next);\r\n  }\r\n\r\n  exportToPNG(): void {\r\n    const canvas = document.querySelector('canvas');\r\n    if (canvas) {\r\n      const link = document.createElement('a');\r\n      link.download = 'whiteboard.png';\r\n      link.href = canvas.toDataURL();\r\n      link.click();\r\n    }\r\n  }\r\n\r\n  exportToJSON(): void {\r\n    const json = this.canvasService.exportToJSON();\r\n    const blob = new Blob([json], { type: 'application/json' });\r\n    const link = document.createElement('a');\r\n    link.download = 'whiteboard.json';\r\n    link.href = URL.createObjectURL(blob);\r\n    link.click();\r\n  }\r\n\r\n  importFromJSON(): void {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = '.json';\r\n    input.onchange = (e: any) => {\r\n      const file = e.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (event: any) => {\r\n          const success = this.canvasService.importFromJSON(event.target.result);\r\n          if (success) {\r\n            this.historyService.clear();\r\n            this.historyService.addState(this.canvasService.getState());\r\n            alert('Importação realizada com sucesso!');\r\n          } else {\r\n            alert('Erro ao importar arquivo!');\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    };\r\n    input.click();\r\n  }\r\n}\r\n","<div class=\"toolbar\">\r\n  <div class=\"toolbar-section\">\r\n    <h2 class=\"toolbar-title\">🎨 Whiteboard</h2>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section tools-section\">\r\n    <button\r\n      *ngFor=\"let tool of tools\"\r\n      [class.active]=\"currentTool === tool.type\"\r\n      (click)=\"selectTool(tool.type)\"\r\n      [title]=\"tool.label\"\r\n      class=\"tool-button\"\r\n    >\r\n      <span class=\"tool-icon\">{{ tool.icon }}</span>\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section colors-section\">\r\n    <div class=\"color-picker\">\r\n      <label>Contorno:</label>\r\n      <input\r\n        type=\"color\"\r\n        [value]=\"strokeColor\"\r\n        (input)=\"onStrokeColorChange($any($event.target).value)\"\r\n      />\r\n    </div>\r\n    <div class=\"color-picker\">\r\n      <label>Preenchimento:</label>\r\n      <input\r\n        type=\"color\"\r\n        [value]=\"fillColor\"\r\n        (input)=\"onFillColorChange($any($event.target).value)\"\r\n      />\r\n    </div>\r\n    <div class=\"color-picker text-color-picker\">\r\n      <label>Cor do texto:</label>\r\n      <input\r\n        type=\"color\"\r\n        [value]=\"textColor\"\r\n        (input)=\"onTextColorChange($any($event.target).value)\"\r\n      />\r\n    </div>\r\n    <div class=\"size-inputs\">\r\n      <label>Largura:</label>\r\n      <input\r\n        type=\"number\"\r\n        min=\"1\"\r\n        [value]=\"selectedWidth\"\r\n        (input)=\"onWidthChange(+$any($event.target).value)\"\r\n      />\r\n      <label>Altura:</label>\r\n      <input\r\n        type=\"number\"\r\n        min=\"1\"\r\n        [value]=\"selectedHeight\"\r\n        (input)=\"onHeightChange(+$any($event.target).value)\"\r\n      />\r\n    </div>\r\n    <div class=\"stroke-width\">\r\n      <label>Espessura:</label>\r\n      <input\r\n        type=\"range\"\r\n        min=\"1\"\r\n        max=\"10\"\r\n        [value]=\"strokeWidth\"\r\n        (input)=\"onStrokeWidthChange(+$any($event.target).value)\"\r\n      />\r\n      <span>{{ strokeWidth }}px</span>\r\n    </div>\r\n    <div class=\"font-controls\">\r\n      <label>Tamanho:</label>\r\n      <input\r\n        type=\"number\"\r\n        min=\"8\"\r\n        max=\"72\"\r\n        [value]=\"fontSize\"\r\n        (input)=\"onFontSizeChange(+$any($event.target).value)\"\r\n      />\r\n      <label>Fonte:</label>\r\n      <select [value]=\"fontFamily\" (change)=\"onFontFamilyChange($any($event.target).value)\">\r\n        <option>Arial</option>\r\n        <option>Segoe UI</option>\r\n        <option>Roboto</option>\r\n        <option>Inter</option>\r\n        <option>Georgia</option>\r\n        <option>Courier New</option>\r\n      </select>\r\n      <button\r\n        class=\"toggle\"\r\n        [class.active]=\"fontWeight === 'bold'\"\r\n        (click)=\"toggleBold()\"\r\n        title=\"Negrito\"\r\n      >B</button>\r\n      <button\r\n        class=\"toggle\"\r\n        [class.active]=\"fontStyle === 'italic'\"\r\n        (click)=\"toggleItalic()\"\r\n        title=\"Itálico\"\r\n      ><i>I</i></button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section actions-section\">\r\n    <button (click)=\"undo()\" [disabled]=\"!canUndo\" title=\"Desfazer (Ctrl+Z)\">\r\n      ↶ Desfazer\r\n    </button>\r\n    <button (click)=\"redo()\" [disabled]=\"!canRedo\" title=\"Refazer (Ctrl+Y)\">\r\n      ↷ Refazer\r\n    </button>\r\n    <button (click)=\"zoomIn()\" title=\"Aumentar Zoom\">🔍+</button>\r\n    <button (click)=\"zoomOut()\" title=\"Diminuir Zoom\">🔍-</button>\r\n    <button (click)=\"resetZoom()\" title=\"Resetar Zoom\">100%</button>\r\n    <button (click)=\"deleteSelected()\" title=\"Deletar Selecionados (Delete)\">\r\n      🗑️ Deletar\r\n    </button>\r\n    <button (click)=\"clearCanvas()\" title=\"Limpar Canvas\">\r\n      🗑️ Limpar Tudo\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section rotation-section\">\r\n    <button (click)=\"rotateLeft()\" title=\"Rotacionar -15°\">⟲ -15°</button>\r\n    <button (click)=\"rotateRight()\" title=\"Rotacionar +15°\">⟳ +15°</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section layer-section\">\r\n    <button (click)=\"bringToFront()\" title=\"Trazer para frente\">⬆ Frente</button>\r\n    <button (click)=\"sendToBack()\" title=\"Enviar para trás\">⬇ Trás</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section group-section\">\r\n    <button (click)=\"group()\" title=\"Agrupar selecionados\">🧩 Agrupar</button>\r\n    <button (click)=\"ungroup()\" title=\"Desagrupar\">🧩 Desagrupar</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section align-section\">\r\n    <button (click)=\"align('left')\" title=\"Alinhar à esquerda\">⟸</button>\r\n    <button (click)=\"align('center')\" title=\"Centralizar horizontal\">⇤⇥</button>\r\n    <button (click)=\"align('right')\" title=\"Alinhar à direita\">⟹</button>\r\n    <button (click)=\"align('top')\" title=\"Alinhar ao topo\">⇑</button>\r\n    <button (click)=\"align('middle')\" title=\"Centralizar vertical\">⇞⇟</button>\r\n    <button (click)=\"align('bottom')\" title=\"Alinhar ao rodapé\">⇓</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section distribute-section\">\r\n    <button (click)=\"distribute('horizontal')\" title=\"Distribuir horizontal\">⟷</button>\r\n    <button (click)=\"distribute('vertical')\" title=\"Distribuir vertical\">↕</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section template-section\">\r\n    <button (click)=\"applyTemplate('sticky-notes')\" title=\"Inserir notas adesivas\">📝 Notas</button>\r\n    <button (click)=\"applyTemplate('flow')\" title=\"Inserir mini fluxograma\">🧭 Fluxo</button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section grid-section\">\r\n    <label class=\"checkbox\">\r\n      <input type=\"checkbox\" [checked]=\"snapToGrid\" (change)=\"toggleSnapToGrid()\" />\r\n      Snap to grid\r\n    </label>\r\n    <div class=\"grid-size\">\r\n      <label>Tamanho da grade:</label>\r\n      <input\r\n        type=\"number\"\r\n        min=\"5\"\r\n        max=\"200\"\r\n        [value]=\"gridSize\"\r\n        (input)=\"onGridSizeChange(+$any($event.target).value)\"\r\n      />\r\n      <span>{{ gridSize }}px</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section export-section\">\r\n    <button (click)=\"exportToPNG()\" title=\"Exportar como PNG\">\r\n      💾 PNG\r\n    </button>\r\n    <button (click)=\"exportToJSON()\" title=\"Exportar como JSON\">\r\n      💾 JSON\r\n    </button>\r\n    <button (click)=\"importFromJSON()\" title=\"Importar JSON\">\r\n      📂 Importar\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"toolbar-section theme-section\">\r\n    <button (click)=\"toggleTheme()\" title=\"Alternar tema\">\r\n      {{ theme === 'light' ? '🌙 Dark' : '☀️ Light' }}\r\n    </button>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}